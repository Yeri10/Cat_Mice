:root{
  --ink:#2f2738;
  --panel:#fff6de;
  --glass:#fffaf0;
  --glass-line:#3c2f38;
  --error:#d84040;
}

*{ box-sizing:border-box; }
html, body{
  margin:0;
  padding:0;
  height:100%;
  overflow:hidden;
}

body{
  color:var(--ink);
  font-family:"Trebuchet MS","Verdana","Comic Sans MS",sans-serif;
  background:#000;
}

.scene-layer{
  position:fixed;
  inset:0;
}

#coverScene{
  z-index:50;
}

#gameScene{
  z-index:40;
}

body.scene-cover #coverScene{ display:block; }
body.scene-cover #gameScene{ display:none; }
body.scene-game #coverScene{ display:none; }
body.scene-game #gameScene{ display:block; }

/* ===== p5 canvas ===== */
canvas{
  position:fixed !important;
  inset:0 !important;
  z-index:5;
  display:block;
}

#hud{
  position:fixed;
  top:12px;
  left:50%;
  transform:translateX(-50%);
  width:min(980px, calc(100vw - 24px));
  z-index:60;
  pointer-events:none;
}

#hud .timer-line{
  width:fit-content;
  margin:0 auto;
  text-align:center;
  background:transparent;
  color:#3a3141;
  padding:0;
  border-radius:0;
  font-size:clamp(20px, 3.2vw, 42px);
  line-height:1.25;
  font-weight:700;
}

/* ===== Lobby overlay ===== */
.overlay{
  position:fixed;
  inset:0;
  z-index:50;
  display:flex;
  justify-content:center;
  align-items:center;
  padding:16px;
  overflow:hidden;
}

.panel{
  position:relative;
  z-index:1;
  width:min(920px, calc(100vw - 24px));
  border-radius:20px;
  padding:18px;
  background:var(--panel);
  border:3px solid var(--glass-line);
  box-shadow:0 10px 0 #3c2f38;
}
.title{
  font-size:24px;
  font-weight:800;
  color:#312530;
}
.sub{
  margin-top:4px;
  font-size:13px;
  opacity:0.8;
}
.stage{
  position:relative;
  margin-top:14px;
  background:var(--glass);
  border:3px solid #3c2f38;
  border-radius:14px;
  padding:14px;
  padding-bottom:22px;
  box-shadow:0 8px 0 #3c2f38;
}

/* Buttons */
button{
  border-radius:10px;
  border:3px solid #3c2f38;
  padding:9px 10px;
  font-size:14px;
  cursor:pointer;
  background:#ffe08d;
  font-weight:700;
}
button:disabled{ opacity:0.48; cursor:not-allowed; }
button.warn{ background:#68b56a; color:#fff; }
button.secondary{ background:#ffe08d; color:#2f2738; }

.room-line{
  margin-top:8px;
  font-size:13px;
  font-weight:700;
}
.error{
  margin-top:6px;
  color:var(--error);
  font-size:12px;
  min-height:16px;
}

.table-title{
  margin-top:12px;
  text-align:center;
  font-size:12px;
  opacity:0.75;
}
.start-wrap{
  margin-top:12px;
  display:flex;
  justify-content:center;
  gap:10px;
}

/* Seat board */
.seats{
  margin-top:10px;
  position:relative;
  height:390px;
  border-radius:14px;
  border:3px dashed #3c2f38;
  background:linear-gradient(180deg,#fef8e8 0 65%, #f9e4be 66% 100%);
}
.seat{
  position:absolute;
  width:124px;
  min-height:118px;
  border:0;
  border-radius:14px;
  padding:6px 6px 4px;
  background:transparent;
  text-align:center;
  transform:translate(-50%,-50%);
}
.seat.me{ transform:translate(-50%,-50%) scale(1.03); }

.seat .idx{ font-size:11px; opacity:0.7; margin-bottom:2px; }
.seat .name{ margin-top:2px; font-size:12px; font-weight:700; line-height:1.2; color:#2f2738; }
.seat .host-tag{
  margin-top:5px;
  display:inline-block;
  font-size:10px;
  font-weight:700;
  border-radius:999px;
  padding:2px 6px;
  background:#ffd35b;
  color:#5b3a08;
  border:2px solid #3c2f2738;
}
.seat .seat-circle{
  width:72px;
  height:72px;
  margin:3px auto 0;
  border-radius:999px;
  border:3px solid #3c2f38;
  display:grid;
  place-items:center;
  font-size:28px;
}
.seat .seat-circle.seated-mark{
  font-size:14px;
  font-weight:700;
}
.seat .seat-shadow{
  width:58px;
  height:12px;
  margin:4px auto 0;
  border-radius:999px;
  background:#e4c9a5;
}
.seat.empty .seat-shadow{ display:none; }

.seat.pot-0 .seat-circle{ background:#96d5f7; }
.seat.pot-1 .seat-circle{ background:#f9b3ba; }
.seat.pot-2 .seat-circle{ background:#c9b0e9; }
.seat.pot-3 .seat-circle{ background:#ffe08d; }
.seat.pot-4 .seat-circle{ background:#ffbe8d; }
.seat.host .seat-circle{ box-shadow:0 0 0 4px #ffd35b; }

.seat.slot-0{ left:50%; top:16%; }
.seat.slot-1{ left:74%; top:30%; }
.seat.slot-2{ left:74%; top:62%; }
.seat.slot-3{ left:50%; top:76%; }
.seat.slot-4{ left:26%; top:62%; }
.seat.slot-5{ left:26%; top:30%; }

@media (max-width:840px){
  .seats{
    display:grid;
    grid-template-columns:repeat(2,minmax(100px,1fr));
    gap:8px;
    height:auto;
    padding:8px;
  }
  .seat{ position:static; width:auto; transform:none; }
  .seat.me{ transform:none; }
}
